(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,a){e.exports=a(37)},31:function(e,t,a){},35:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var r={};a.r(r),a.d(r,"getWeather",function(){return T}),a.d(r,"displayLoader",function(){return S}),a.d(r,"displayError",function(){return _}),a.d(r,"addToHistory",function(){return v}),a.d(r,"removeFromHistory",function(){return j}),a.d(r,"setWeather",function(){return g});var n=a(0),c=a.n(n),i=a(17),o=a.n(i),s=a(11),l=a(2),u=a(3),p=a(5),d=a(4),m=a(6),E=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.error;return c.a.createElement("p",{className:"error"},e)}}]),t}(n.Component),h=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.actions,a=this.props.errorLabel;return this.props.loading?null:c.a.createElement("div",{className:"search-container"},c.a.createElement("input",{type:"text",ref:function(t){e.searchInput=t}}),c.a.createElement("button",{onClick:function(){t.getWeather(e.searchInput.value)}},"\u041d\u0430\u0439\u0442\u0438"),c.a.createElement(E,{error:a}))}}]),t}(n.Component),O=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.datetime,t=this.props.city,a=this.props.temp;return c.a.createElement("div",{className:"day"},c.a.createElement("p",{className:"city"},t),c.a.createElement("p",null,a," c"),c.a.createElement("p",{className:"datetime"},e))}}]),t}(n.Component),y=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.history,t=this.props.datetime;return c.a.createElement("div",{className:"history"},e.map(function(e,a){return c.a.createElement(O,{key:a,city:e.city,temp:e.temp,datetime:t})}))}}]),t}(n.Component),b=a(8),f={DISPLAY_LOADER:"DISPLAY_LOADER",DISPLAY_ERROR:"DISPLAY_ERROR",FETCH_WEATHER_SUCCESS:"FETCH_WEATHER_SUCCESS",ADD_TO_HISTORY:"ADD_TO_HISTORY",REMOVE_FROM_HISTORY:"REMOVE_FROM_HISTORY",SET_WEATHER:"SET_WEATHER"},R={SNOW:"snow",SUN:"sun",RAIN:"rain",THUNDER:"thunder",WIND:"wind",FOG:"fog",MIST:"mist",CLOUDS:"clouds",CLEAR:"sun",DEFAULT:""};function v(e){return{type:f.ADD_TO_HISTORY,data:e}}function j(){return{type:f.REMOVE_FROM_HISTORY}}function S(e){return{type:f.DISPLAY_LOADER,loading:e}}function _(e){return{type:f.DISPLAY_ERROR,errorLabel:e}}function g(e){return{type:f.SET_WEATHER,weatherType:e}}var T=function(e){return function(t){fetch("http://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&appid=").concat("448a4b114dc04cf2e585173e5335f922","&units=metric")).then(function(e){if(200===e.status)return e.json();t({type:f.DISPLAY_ERROR,errorLabel:"API ERROR CODE: ".concat(e.status)})}).then(function(e){t({type:f.FETCH_WEATHER_SUCCESS,currentWeather:e}),t({type:f.SET_WEATHER,weatherType:e.weather[0].main}),t({type:f.REMOVE_FROM_HISTORY}),t({type:f.ADD_TO_HISTORY,data:e}),t({type:f.DISPLAY_LOADER,loading:!1}),t({type:f.DISPLAY_ERROR,errorLabel:""})}).catch(function(e){t({type:f.DISPLAY_ERROR,errorLabel:"API ERROR: ".concat(e)})})}},L=(a(31),function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.loading,t=this.props.temp,a=this.props.city,r=this.props.datetime;return c.a.createElement("section",{className:e?"hidden":""},c.a.createElement("svg",{id:"back"},c.a.createElement("radialGradient",{id:"SVGID_1_",cx:"0",cy:"0",r:"320.8304",gradientUnits:"userSpaceOnUse"},c.a.createElement("stop",{offset:"0",style:{stopColor:"#FFDE17",stopOpacity:.7}}),c.a.createElement("stop",{offset:"1",style:{stopColor:"#FFF200",stopPpacity:0}})),c.a.createElement("path",{id:"sunburst",d:"M0,319.7c-18.6,0-37.3-1.6-55.5-4.8L-7.8,41.4c5.1,0.9,10.6,0.9,15.7,0L56,314.8C37.6,318,18.8,319.7,0,319.7z\r M-160.8,276.6c-32.5-18.8-61.3-42.9-85.5-71.6L-34,26.2c3.4,4.1,7.4,7.4,12,10.1L-160.8,276.6z M161.3,276.4L22.1,36.2\r c4.5-2.6,8.6-6,12-10.1l212.6,178.5C222.5,233.4,193.8,257.6,161.3,276.4z M-302.5,108.3C-315.4,73-321.9,36-322-1.8l277.6-0.5\r c0,5.3,0.9,10.4,2.7,15.2L-302.5,108.3z M302.6,107.8L41.8,12.8c1.7-4.7,2.6-9.7,2.6-14.9c0-0.3,0-0.6,0-1H322l0-1.3l0,1.9\r C322,35.4,315.5,72.5,302.6,107.8z M-41.8-17.5l-261-94.5c12.8-35.4,31.6-68,55.8-96.9L-34.1-30.8C-37.5-26.8-40.1-22.3-41.8-17.5z\r M41.7-17.7c-1.8-4.8-4.4-9.3-7.8-13.3l212-179.2c24.3,28.8,43.3,61.3,56.3,96.6L41.7-17.7z M-22.2-40.8l-139.6-240\r c32.7-19,68.1-32,105.2-38.6L-8-46.1C-13-45.2-17.8-43.4-22.2-40.8z M22-40.9c-4.4-2.6-9.2-4.3-14.2-5.1l47.1-273.6\r c37.2,6.4,72.7,19.2,105.4,38L22-40.9z"})),c.a.createElement("div",{id:"card",className:"weather"},c.a.createElement("svg",{id:"inner"},c.a.createElement("defs",null,c.a.createElement("path",{id:"leaf",d:"M41.9,56.3l0.1-2.5c0,0,4.6-1.2,5.6-2.2c1-1,3.6-13,12-15.6c9.7-3.1,19.9-2,26.1-2.1c2.7,0-10,23.9-20.5,25 c-7.5,0.8-17.2-5.1-17.2-5.1L41.9,56.3z"})),c.a.createElement("circle",{id:"sun",style:{fill:"#F7ED47",cx:0,cy:0,r:50}}),c.a.createElement("g",{id:"layer3"}),c.a.createElement("g",{id:"cloud3",className:"cloud"}),c.a.createElement("g",{id:"layer2"}),c.a.createElement("g",{id:"cloud2",className:"cloud"}),c.a.createElement("g",{id:"layer1"}),c.a.createElement("g",{id:"cloud1",className:"cloud"})),c.a.createElement("div",{className:"details"},c.a.createElement("div",{className:"temp"},t,c.a.createElement("span",null,"c")),c.a.createElement("div",{className:"right"},c.a.createElement("div",{id:"city"},a),c.a.createElement("div",{id:"date"},r),c.a.createElement("div",{id:"summary"})))),c.a.createElement("svg",{id:"outer"}))}}]),t}(n.Component)),D=(a(35),function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return this.props.loading?c.a.createElement("div",{className:"showbox"},c.a.createElement("div",{className:"loader"},c.a.createElement("svg",{className:"circular",viewBox:"25 25 50 50"},c.a.createElement("circle",{className:"path",cx:"50",cy:"50",r:"20",fill:"none",strokeWidth:"2",strokeMiterlimit:"10"})))):null}}]),t}(n.Component));var w=function(e){var t=new Date(1e3*e),a=t.getFullYear(),r=t.getMonth()+1,n=t.getDate(),c=t.getHours(),i="0".concat(t.getMinutes()),o="0".concat(t.getSeconds());return"".concat(n,".").concat(r,".").concat(a," ").concat(c,":").concat(i.substr(-2),":").concat(o.substr(-2))},A=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.actions.getWeather("Kiev")}},{key:"componentDidUpdate",value:function(){var e=this.props.weather.weatherType;window.changeWeather({type:R[e.toUpperCase()]})}},{key:"render",value:function(){var e=this.props.actions,t=this.props.weather.errorLabel,a=this.props.weather.loading,r=this.props.weather.currentWeather,n=r?r.main.temp:null,i=r?r.name:null,o=r?w(r.dt):null,s=this.props.history;return c.a.createElement("div",{className:"background"},c.a.createElement("div",{className:"container"},c.a.createElement(h,{loading:a,actions:e,errorLabel:t}),c.a.createElement(L,{loading:a,temp:n,city:i,datetime:o}),c.a.createElement(D,{loading:a}),c.a.createElement(y,{history:s,datetime:o})))}}]),t}(n.Component);var C=Object(s.b)(function(e){return{weather:e.weather,history:e.history}},function(e){return{actions:Object(b.bindActionCreators)(r,e)}})(A),I=a(21),H=a(22);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var M=a(10),N={loading:!0,errorLabel:"",currentWeather:null,weatherType:""};var W=a(14);var Y=Object(b.combineReducers)({weather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.DISPLAY_LOADER:return Object(M.a)({},e,{loading:t.loading});case f.SET_WEATHER:return Object(M.a)({},e,{weatherType:t.weatherType});case f.DISPLAY_ERROR:return Object(M.a)({},e,{errorLabel:t.errorLabel});case f.FETCH_WEATHER_SUCCESS:return Object(M.a)({},e,{currentWeather:t.currentWeather});default:return e}},history:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.ADD_TO_HISTORY:return Object(W.a)(e).concat([{city:t.data.name,temp:t.data.main.temp}]);case f.REMOVE_FROM_HISTORY:return 10===e.length&&e.splice(0,1),Object(W.a)(e);default:return e}}}),k=Object(b.createStore)(Y,Object(I.composeWithDevTools)(Object(b.applyMiddleware)(H.a)));o.a.render(c.a.createElement(s.a,{store:k},c.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,2,1]]]);
//# sourceMappingURL=main.34d37059.chunk.js.map